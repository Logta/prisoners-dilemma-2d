let r;function b(e){const t=r.__externref_table_alloc();return r.__wbindgen_export_2.set(t,e),t}function f(e,t){try{return e.apply(this,t)}catch(n){const i=b(n);r.__wbindgen_exn_store(i)}}const R=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&R.decode();let l=null;function p(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(r.memory.buffer)),l}function m(e,t){return e=e>>>0,R.decode(p().subarray(e,e+t))}function u(e){return e==null}let w=0;const y=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},C=typeof y.encodeInto=="function"?function(e,t){return y.encodeInto(e,t)}:function(e,t){const n=y.encode(e);return t.set(n),{read:e.length,written:n.length}};function d(e,t,n){if(n===void 0){const a=y.encode(e),g=t(a.length,1)>>>0;return p().subarray(g,g+a.length).set(a),w=a.length,g}let i=e.length,_=t(i,1)>>>0;const c=p();let o=0;for(;o<i;o++){const a=e.charCodeAt(o);if(a>127)break;c[_+o]=a}if(o!==i){o!==0&&(e=e.slice(o)),_=n(_,i,i=o+e.length*3,1)>>>0;const a=p().subarray(_+o,_+i),g=C(e,a);o+=g.written,_=n(_,i,o,1)>>>0}return w=o,_}function T(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function s(e){const t=r.__wbindgen_export_2.get(e);return r.__externref_table_dealloc(e),t}function q(){const e=r.create_standard_config();return h.__wrap(e)}function k(){r.main()}const x=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_wasmbattlemanager_free(e>>>0,1));class W{static __wrap(t){t=t>>>0;const n=Object.create(W.prototype);return n.__wbg_ptr=t,x.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,x.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_wasmbattlemanager_free(t,0)}constructor(){const t=r.wasmbattlemanager_new();return this.__wbg_ptr=t>>>0,x.register(this,this.__wbg_ptr,this),this}static with_payoff_matrix(t,n,i,_){const c=r.wasmbattlemanager_with_payoff_matrix(t,n,i,_);return W.__wrap(c)}execute_battle(t,n,i){const _=d(i,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w,o=r.wasmbattlemanager_execute_battle(this.__wbg_ptr,t,n,_,c);if(o[2])throw s(o[1]);return s(o[0])}get_battle_history(t,n,i){const _=r.wasmbattlemanager_get_battle_history(this.__wbg_ptr,t,!u(n),u(n)?BigInt(0):n,u(i)?4294967297:i>>>0);if(_[2])throw s(_[1]);return s(_[0])}current_round(){return r.wasmbattlemanager_current_round(this.__wbg_ptr)>>>0}advance_round(){r.wasmbattlemanager_advance_round(this.__wbg_ptr)}clear_history(){r.wasmbattlemanager_clear_history(this.__wbg_ptr)}}const A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_wasmsimulationconfig_free(e>>>0,1));class h{static __wrap(t){t=t>>>0;const n=Object.create(h.prototype);return n.__wbg_ptr=t,A.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,A.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_wasmsimulationconfig_free(t,0)}constructor(t,n,i,_,c,o,a,g,E,z,O){const j=d(z,r.__wbindgen_malloc,r.__wbindgen_realloc),L=w,M=d(O,r.__wbindgen_malloc,r.__wbindgen_realloc),U=w,I=r.wasmsimulationconfig_new(t,n,i,_,c,o,a,g,E,j,L,M,U);return this.__wbg_ptr=I>>>0,A.register(this,this.__wbg_ptr,this),this}get world_width(){return r.wasmsimulationconfig_world_width(this.__wbg_ptr)>>>0}get world_height(){return r.wasmsimulationconfig_world_height(this.__wbg_ptr)>>>0}get initial_population(){return r.wasmbattlemanager_current_round(this.__wbg_ptr)>>>0}get max_generations(){return r.wasmsimulationconfig_max_generations(this.__wbg_ptr)>>>0}get battles_per_generation(){return r.wasmsimulationconfig_battles_per_generation(this.__wbg_ptr)>>>0}get neighbor_radius(){return r.wasmsimulationconfig_neighbor_radius(this.__wbg_ptr)>>>0}get mutation_rate(){return r.wasmsimulationconfig_mutation_rate(this.__wbg_ptr)}get mutation_strength(){return r.wasmsimulationconfig_mutation_strength(this.__wbg_ptr)}get elite_ratio(){return r.wasmsimulationconfig_elite_ratio(this.__wbg_ptr)}get selection_method(){let t,n;try{const i=r.wasmsimulationconfig_selection_method(this.__wbg_ptr);return t=i[0],n=i[1],m(i[0],i[1])}finally{r.__wbindgen_free(t,n,1)}}get crossover_method(){let t,n;try{const i=r.wasmsimulationconfig_crossover_method(this.__wbg_ptr);return t=i[0],n=i[1],m(i[0],i[1])}finally{r.__wbindgen_free(t,n,1)}}set selection_method(t){const n=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=w;r.wasmsimulationconfig_set_selection_method(this.__wbg_ptr,n,i)}set crossover_method(t){const n=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=w;r.wasmsimulationconfig_set_crossover_method(this.__wbg_ptr,n,i)}}const F=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_wasmsimulationmanager_free(e>>>0,1));class N{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,F.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_wasmsimulationmanager_free(t,0)}constructor(){const t=r.wasmsimulationmanager_new();return this.__wbg_ptr=t>>>0,F.register(this,this.__wbg_ptr,this),this}initialize(t){T(t,h);const n=r.wasmsimulationmanager_initialize(this.__wbg_ptr,t.__wbg_ptr);if(n[2])throw s(n[1]);return s(n[0])}run_simulation(t,n){T(t,h);const i=r.wasmsimulationmanager_run_simulation(this.__wbg_ptr,t.__wbg_ptr,n);if(i[2])throw s(i[1]);return s(i[0])}step(){const t=r.wasmsimulationmanager_step(this.__wbg_ptr);if(t[2])throw s(t[1]);return s(t[0])}run_generation(){const t=r.wasmsimulationmanager_run_generation(this.__wbg_ptr);if(t[2])throw s(t[1]);return s(t[0])}get_current_stats(){const t=r.wasmsimulationmanager_get_current_stats(this.__wbg_ptr);if(t[2])throw s(t[1]);return s(t[0])}get_current_agents(){const t=r.wasmsimulationmanager_get_current_agents(this.__wbg_ptr);if(t[2])throw s(t[1]);return s(t[0])}get_agent_at(t,n){const i=r.wasmsimulationmanager_get_agent_at(this.__wbg_ptr,t,n);if(i[2])throw s(i[1]);return s(i[0])}is_finished(){const t=r.wasmsimulationmanager_is_finished(this.__wbg_ptr);if(t[2])throw s(t[1]);return t[0]!==0}reset(){r.wasmsimulationmanager_reset(this.__wbg_ptr)}}async function B(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function S(){const e={};return e.wbg={},e.wbg.__wbg_buffer_609cc3eee51ed158=function(t){return t.buffer},e.wbg.__wbg_call_672a4d21634d4a24=function(){return f(function(t,n){return t.call(n)},arguments)},e.wbg.__wbg_call_7cccdd69e0791ae2=function(){return f(function(t,n,i){return t.call(n,i)},arguments)},e.wbg.__wbg_crypto_574e78ad8b13b65f=function(t){return t.crypto},e.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return f(function(t,n){t.getRandomValues(n)},arguments)},e.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(t){return t.msCrypto},e.wbg.__wbg_new_a12002a7f91c75be=function(t){return new Uint8Array(t)},e.wbg.__wbg_newnoargs_105ed471475aaf50=function(t,n){return new Function(m(t,n))},e.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(t,n,i){return new Uint8Array(t,n>>>0,i>>>0)},e.wbg.__wbg_newwithlength_a381634e90c276d4=function(t){return new Uint8Array(t>>>0)},e.wbg.__wbg_node_905d3e251edff8a2=function(t){return t.node},e.wbg.__wbg_process_dc0fbacc7c1c06f7=function(t){return t.process},e.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return f(function(t,n){t.randomFillSync(n)},arguments)},e.wbg.__wbg_require_60cc747a6bc5215a=function(){return f(function(){return module.require},arguments)},e.wbg.__wbg_set_65595bdd868b3009=function(t,n,i){t.set(n,i>>>0)},e.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const t=typeof global>"u"?null:global;return u(t)?0:b(t)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const t=typeof globalThis>"u"?null:globalThis;return u(t)?0:b(t)},e.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const t=typeof self>"u"?null:self;return u(t)?0:b(t)},e.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const t=typeof window>"u"?null:window;return u(t)?0:b(t)},e.wbg.__wbg_subarray_aa9065fa9dc5df96=function(t,n,i){return t.subarray(n>>>0,i>>>0)},e.wbg.__wbg_versions_c01dfd4722a88165=function(t){return t.versions},e.wbg.__wbindgen_init_externref_table=function(){const t=r.__wbindgen_export_2,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e.wbg.__wbindgen_is_function=function(t){return typeof t=="function"},e.wbg.__wbindgen_is_object=function(t){const n=t;return typeof n=="object"&&n!==null},e.wbg.__wbindgen_is_string=function(t){return typeof t=="string"},e.wbg.__wbindgen_is_undefined=function(t){return t===void 0},e.wbg.__wbindgen_memory=function(){return r.memory},e.wbg.__wbindgen_string_new=function(t,n){return m(t,n)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(m(t,n))},e}function v(e,t){return r=e.exports,D.__wbindgen_wasm_module=t,l=null,r.__wbindgen_start(),r}function V(e){if(r!==void 0)return r;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=S();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const n=new WebAssembly.Instance(e,t);return v(n,e)}async function D(e){if(r!==void 0)return r;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL("/assets/prisoners_dilemma_2d_bg-B6fz2ehU.wasm",import.meta.url));const t=S();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:i}=await B(await e,t);return v(n,i)}export{W as WasmBattleManager,h as WasmSimulationConfig,N as WasmSimulationManager,q as create_standard_config,D as default,V as initSync,k as main};
//# sourceMappingURL=prisoners_dilemma_2d-Cse0Pzx_.js.map
